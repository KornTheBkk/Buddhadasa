<ion-header #header>

  <ion-navbar>
    <ion-title>เสียงพุทธทาส</ion-title>
    <!-- <ion-buttons end>
      <button ion-button icon-only color="royal" (click)="search()">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons> -->
  </ion-navbar>

</ion-header>


<ion-content padding hide-header [header]="header">

  <!-- <p>isPlaying : {{ isPlaying }}</p>
  <p>currentPosition : {{ currentPosition }}</p>
  <p>duration : {{ duration }}</p> -->

  <ion-card>
    <ion-card-content text-center>
      <div text-center>
        <ion-range [(ngModel)]="seekPosition" min="0" [max]="duration" debounce="0" (ionChange)="changeSeekTo()" [disabled]="!soundReady">
          <ion-label range-left *ngIf="currentPosition >= 0">{{ currentPosition | timeSecToMin }}</ion-label>
          <ion-label range-right *ngIf="duration >= 0">{{ duration | timeSecToMin }}</ion-label>
        </ion-range>

        <button class="player-button" ion-button [disabled]="!soundReady" (click)="skipBackward()">
          <ion-icon name="skip-backward" class="player-icon"></ion-icon>
        </button>

        <button class="player-button" ion-button (click)="playSound()" [disabled]="!soundReady">
          <ion-icon name="play" *ngIf="!isPlaying" class="player-icon"></ion-icon>
          <ion-icon name="pause" *ngIf="isPlaying" class="player-icon"></ion-icon>
        </button>

        <button class="player-button" ion-button [disabled]="!soundReady" (click)="skipForward()">
          <ion-icon name="skip-forward" class="player-icon"></ion-icon>
        </button>
      </div>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-content>
      <h1>{{ sound.title }}</h1>
      <p *ngIf="sound.subtitle">
        {{ sound.subtitle }}
      </p>
      <p *ngIf="sound.description">
        {{ sound.description }}
      </p>
      <p *ngIf="sound.showed_at">
        <strong>วันที่แสดงธรรม</strong> {{ sound.showed_at | thaiDate }}
      </p>
      <p *ngIf="sound.duration">
        <strong>ความยาว</strong> {{ sound.duration }} นาที
      </p>
      <p class="date">
        <ion-icon name="md-time"></ion-icon> {{ sound.published_at | thaiDate:true }} &nbsp;
        <ion-icon name="headset"></ion-icon> {{ sound.view | number }}
      </p>
    </ion-card-content>
  </ion-card>

</ion-content>